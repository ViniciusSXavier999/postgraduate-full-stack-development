# 1 ‚Üí NODE

üèÜ A linguagem Javascript foi criada em 1995 e foi feita justamente para facilitar o desenvolvimento para a web, para facilitar ainda mais esse desenvolvimento, vamos trabalhar com o framework node, que √© especifico para linguagem Javascript.

üèÜ O Javascript veio para deixar a comunica√ß√£o entre o navegador e m√°quina muito mais simples e esse framework vai fazer essa parte.


## CLIENT-SIDE X SERVER-SIDE

üèÜ

üîπ **Client-side**

- √â tudo o que acontece **no navegador do usu√°rio**.
- Exemplo: HTML, CSS e JavaScript que rodam no browser para montar a interface e interagir com o usu√°rio.
- Linguagens: normalmente **JavaScript**, mas tamb√©m temos tecnologias como React, Angular, Vue etc.
- Caracter√≠stica: depende do computador/dispositivo do cliente.

---

### üîπ **Server-side**

- √â tudo o que acontece **no servidor**, antes de a resposta ser enviada ao navegador.
- Exemplo: quando voc√™ faz login, o servidor valida seu usu√°rio e senha no banco de dados.
- Linguagens: PHP, Java, Python, Ruby, e tamb√©m **JavaScript com Node.js**.
- Caracter√≠stica: depende do servidor, n√£o do cliente.

---

### üîπ **E o que isso tem a ver com o Node.js?**

- O **Node.js** trouxe o **JavaScript** para o **server-side**.
- Antes, o JS era usado s√≥ no navegador (**client-side**).
- Agora, com o Node, voc√™ pode usar **a mesma linguagem (JavaScript)** tanto no cliente quanto no servidor.

---

üëâ Em resumo:

- **Client-side**: roda no navegador (interface, interatividade).
- **Server-side**: roda no servidor (processamento, banco de dados).
- **Node.js**: permite usar JavaScript no **server-side**.

üü¢ ATRAV√âS DO NODE CONSEGUIMOS FAZER EM QUALQUER MAQUINA E DISPONILIZAR EM QUALQUER NAVEGADOR.


## PRINCIPAL PAPEL DO NODE

üü¢ Node.js serve para **executar JavaScript no servidor**, permitindo:

- Criar **servidores web** e **APIs**.
- Desenvolver **aplica√ß√µes em tempo real** (chat, jogos online).
- Conectar com **bancos de dados**.
- Automatizar tarefas e construir ferramentas.

üëâ Em resumo: o Node.js √© usado para construir aplica√ß√µes r√°pidas, escal√°veis e que precisam lidar com muitas conex√µes ao mesmo tempo.


---

### VAMOS FAZER UM EXEMPLO DE ‚ÄúHELLO WORD‚Äù COM O NODE.

```java
// server.mjs
import { createServer } from 'node:http';

const server = createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Hello World!\n');
});

// starts a simple http server locally on port 3000
server.listen(3000, '127.0.0.1', () => {
  console.log('Listening on 127.0.0.1:3000');
});

// run with `node server.mjs`
```

<aside>
üèÜ

```jsx
// server.mjs
import { createServer } from 'node:http';

```

- importa a fun√ß√£o `createServer` do m√≥dulo interno `http`.
- o prefixo `node:` deixa claro que √© um m√≥dulo core do Node (evita colis√µes com pacotes `http` de terceiros).
- uso de `import` indica **ES Modules** ‚Äî por isso o arquivo tem `.mjs` (ou voc√™ poderia usar `"type":"module"` no package.json).

```jsx
const server = createServer((req, res) => {

```

- cria um servidor HTTP e registra a fun√ß√£o que ser√° chamada a cada requisi√ß√£o.
- `req` √© o objeto de requisi√ß√£o (IncomingMessage) ‚Äî tem `req.method`, `req.url`, `req.headers`, etc.
- `res` √© o objeto de resposta (ServerResponse) ‚Äî tem m√©todos para enviar cabe√ßalhos e corpo.

```jsx
  res.writeHead(200, { 'Content-Type': 'text/plain' });

```

- define o **status** da resposta (`200`) e os **headers** (aqui: conte√∫do texto simples).
- alternativa equivalente mais expl√≠cita: `res.statusCode = 200; res.setHeader('Content-Type', 'text/plain');`

```jsx
  res.end('Hello World!\n');
});

```

- envia o corpo (`'Hello World!\n'`) e **encerra** a resposta. `res.end()` pode receber string ou Buffer.
- ap√≥s `end()` a conex√£o pode ser fechada (ou mantida se `Connection: keep-alive`).

```jsx
// starts a simple http server locally on port 3000
server.listen(3000, '127.0.0.1', () => {

```

- inicia o servidor escutando na porta `3000` e no endere√ßo `127.0.0.1` (loopback/local).
- o terceiro argumento √© um callback executado quando o servidor come√ßou a escutar.
- se quiser que fique acess√≠vel na rede, use `0.0.0.0` ou omita o host (outra op√ß√£o: IPv6 `::`).

```jsx
  console.log('Listening on 127.0.0.1:3000');
});

```

- imprime uma mensagem no terminal confirmando que o servidor subiu.

```jsx
// run with `node server.mjs`

```

- executa com `node server.mjs`. Como o arquivo √© `.mjs`, o Node roda em modo ES Module automaticamente.
- em vers√µes antigas do Node o suporte a ESM era experimental; em vers√µes modernas o comportamento √© nativo.

---

### Observa√ß√µes r√°pidas

- Esse √© um servidor **muito simples** ‚Äî √∫til para aprendizado e testes. Para rotas, middleware, tratamento de erros e produtividade costuma-se usar frameworks (Express, Fastify, etc.).
- O modelo do Node √© **ass√≠ncrono e orientado a eventos**, ent√£o se voc√™ fizer I/O bloqueante dentro do handler pode travar o loop de evento.
- Se voc√™ preferir a sintaxe CommonJS (antiga), o mesmo exemplo ficaria com `const { createServer } = require('http');` e arquivo `.js` sem `"type":"module"`.
</aside>

---

### ES MODULES X COMMONJS

---

### üîπ **CommonJS (CJS)**

- **Padr√£o antigo do Node.js** (criado antes do ES6).
- Usa `require` e `module.exports`.
- Carregamento **s√≠ncrono** (um m√≥dulo √© carregado todo de uma vez).
- Exemplo:
    
    ```jsx
    // math.js
    function soma(a, b) { return a + b; }
    module.exports = soma;
    
    // app.js
    const soma = require('./math.js');
    console.log(soma(2, 3));
    
    ```
    

---

### üîπ **ES Modules (ESM)**

- **Padr√£o oficial do JavaScript (desde ES6)**.
- Usa `import` e `export`.
- Carregamento **ass√≠ncrono** (melhor para web e bundlers).
- Exemplo:
    
    ```jsx
    // math.mjs
    export function soma(a, b) { return a + b; }
    
    // app.mjs
    import { soma } from './math.mjs';
    console.log(soma(2, 3));
    
    ```
    

---

### ‚úÖ Resumindo em 1 linha:

- **CommonJS** = sistema de m√≥dulos antigo do Node (`require`).
- **ES Modules** = padr√£o moderno e oficial do JS (`import/export`), funciona no navegador e no Node.